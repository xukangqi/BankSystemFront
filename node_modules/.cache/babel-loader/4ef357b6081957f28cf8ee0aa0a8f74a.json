{"remainingRequest":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/babel-loader/lib/index.js!/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xyy/Documents/GitHub/BankSystemFront-xyy/src/views/admin/investment/SubscribeFund.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/src/views/admin/investment/SubscribeFund.vue","mtime":1540199702475},{"path":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/cache-loader/dist/cjs.js","mtime":1540002788970},{"path":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/cache-loader/dist/cjs.js","mtime":1540002788970},{"path":"/Users/xyy/Documents/GitHub/BankSystemFront-xyy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar columns = [{\n  title: '交易流水号',\n  width: 120,\n  dataIndex: 'fundTxId',\n  key: 'fundTxId',\n  fixed: 'left'\n}, {\n  title: '用户ID',\n  width: 100,\n  dataIndex: 'custId',\n  key: 'custId',\n  fixed: 'left'\n}, {\n  title: '账户号',\n  dataIndex: 'account',\n  key: 'account'\n}, {\n  title: '基金代码',\n  dataIndex: 'fundId',\n  key: 'fundId'\n}, {\n  title: '交易类型',\n  dataIndex: 'type',\n  key: 'type',\n  filters: [{\n    text: \"认购/申购\",\n    value: \"认购/申购\"\n  }, {\n    text: \"赎回\",\n    value: \"赎回\"\n  }],\n  onFilter: function onFilter(value, record) {\n    return record.type == value;\n  }\n}, {\n  title: '投资金额',\n  dataIndex: 'amount',\n  key: 'amount'\n}, {\n  title: '份额',\n  dataIndex: 'share',\n  key: 'share'\n}, {\n  title: '交易时间',\n  dataIndex: 'txDate',\n  key: 'txDate'\n}, {\n  title: '审核人ID',\n  dataIndex: 'reviewId',\n  key: 'reviewId'\n}, {\n  title: '操作',\n  key: 'action',\n  fixed: 'right',\n  width: 150,\n  scopedSlots: {\n    customRender: 'action'\n  }\n}];\nexport default {\n  data: function data() {\n    return {\n      data: [],\n      loading: false,\n      detailValue: {},\n      visible: false,\n      columns: columns\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.loading = true;\n    this.$axios({\n      method: \"get\",\n      url: \"/investment/fundlog\"\n    }).then(function (res) {\n      var result = res.data;\n      var status = result.status;\n\n      if (status == 200) {\n        _this.loading = false;\n\n        for (var i = 0; i < result.data.length; i++) {\n          result.data[i].type = result.data[i].type == 0 ? \"认购/申购\" : \"赎回\";\n        }\n\n        _this.data = result.data;\n      } else {\n        _this.$notification.open({\n          message: \"错误\",\n          description: result.msg\n        });\n      }\n    }).catch(function (err) {\n      console.log(\"通信失败，请稍后再试\");\n\n      _this.$notification.open({\n        message: \"错误\",\n        description: \"服务器开小差了,请稍后再试\"\n      });\n    });\n  },\n  methods: {\n    showDrawer: function showDrawer(value) {\n      this.visible = true;\n      this.detailValue = this.showDetail(value);\n    },\n    onClose: function onClose() {\n      this.visible = false;\n    },\n    showDetail: function showDetail(fundTxId) {\n      var dataDetail = this.data;\n      var i;\n\n      for (i = 0; i < dataDetail.length; i++) {\n        if (dataDetail[i].fundTxId == fundTxId) {\n          break;\n        }\n      }\n\n      return dataDetail[i];\n    }\n  }\n};",{"version":3,"sources":["SubscribeFund.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n  <a-table :columns=\"columns\" :loading=\"loading\" :dataSource=\"data\" :scroll=\"{ x: 1500 }\">\n    <template slot=\"action\" slot-scope=\"text, record\">\n         <a-button type='primary' @click=\"() => showDrawer(record.fundTxId)\">显示详情</a-button>\n    </template>\n  </a-table>\n\n  <a-drawer\n      width=400\n      placement=\"right\"\n      :closable=\"false\"\n      @close=\"onClose\"\n      :visible=\"visible\"\n      style=\"height: calc(100% - 55px);overflow: 'auto';paddingBottom: 53px;\"\n    >\n      <div style=\"background:#ECECEC; padding:30px;\">\n  \t\t<a-card title=\"基金交易记录详情\" :bordered=\"false\" style=\"width: 300px\" hoverable>\n\t    \t<p>交易流水号：{{detailValue.fundTxId}}</p>\n\t    \t<p>用户ID：{{detailValue.custId}}</p>\n\t    \t<p>账户号：{{detailValue.account}}</p>\n\t    \t<p>基金代码：{{detailValue.fundId}}</p>\n\t    \t<p>交易类型：{{detailValue.type}}</p>\n\t    \t<p>投资金额：{{detailValue.amount}}</p>\n\t    \t<p>份额：{{detailValue.share}}</p>\n\t    \t<p>交易时间：{{detailValue.txDate}}</p>\n\t    \t<p>审核人ID：{{detailValue.reviewId}}</p>\n  \t\t</a-card>\n\t  </div>\n      <div\n        :style=\"{\n          position: 'absolute',\n          bottom: 0,\n          width: '100%',\n          borderTop: '1px solid #e8e8e8',\n          padding: '10px 16px',\n          textAlign: 'right',\n          left: 0,\n          background: '#fff',\n          borderRadius: '0 0 4px 4px',\n        }\"\n      >\n        <a-button\n          @click=\"onClose\"\n        >\n          关闭\n        </a-button>\n      </div>\n    </a-drawer>\n</div>\n</template>\n<script>\n           \nconst columns = [\n  { title: '交易流水号', width: 120, dataIndex: 'fundTxId', key: 'fundTxId', fixed: 'left' },\n  { title: '用户ID', width: 100, dataIndex: 'custId', key: 'custId', fixed: 'left' },\n  { title: '账户号', dataIndex: 'account', key: 'account' },\n  { title: '基金代码', dataIndex: 'fundId', key: 'fundId' },\n  { title: '交易类型', dataIndex: 'type', key: 'type', \n    filters: [{\n        text: \"认购/申购\",\n        value: \"认购/申购\"\n        },\n        {\n          text: \"赎回\",\n          value: \"赎回\"\n        }\n       ],\n    onFilter: (value, record) => record.type == value\n  },\n  { title: '投资金额', dataIndex: 'amount', key: 'amount' },\n  { title: '份额', dataIndex: 'share', key: 'share' },\n  { title: '交易时间', dataIndex: 'txDate', key: 'txDate' },\n  { title: '审核人ID', dataIndex: 'reviewId', key: 'reviewId' },\n  {\n    title: '操作',\n    key: 'action',\n    fixed: 'right',\n    width: 150,\n    scopedSlots: { customRender: 'action' },\n  },\n];\n\n\nexport default {\n  data() {\n    return {\n      data: [],\n      loading: false,\n      detailValue:{},\n      visible:false,\n      columns,\n      }\n  }, \n  mounted() {\n\t\tthis.loading = true;\n\t\tthis.$axios({\n                    method: \"get\",\n                    url: \"/investment/fundlog\"\n                })\n                .then(res => {\n                    let result = res.data;\n                    let status = result.status;\n                    if (status == 200) {\n                    \tthis.loading = false;\n                    \tfor(let i=0; i<result.data.length; i++) {\n                    \t\tresult.data[i].type = (result.data[i].type==0?\"认购/申购\":\"赎回\");\n                    \t}\n                        this.data = result.data;\n                        \n                    } else {\n                        this.$notification.open({\n                            message: \"错误\",\n                            description: result.msg\n                        });\n                    }\n                })\n                .catch(err => {\n                    console.log(\"通信失败，请稍后再试\");\n                    this.$notification.open({\n                        message: \"错误\",\n                        description: \"服务器开小差了,请稍后再试\"\n                    });\n                });\n  },\n  methods: {\n  \tshowDrawer(value) {\n      this.visible = true;\n      this.detailValue = this.showDetail(value);\n    },\n    onClose() {\n      this.visible = false\n    },\n    showDetail(fundTxId){\n    \tlet dataDetail = this.data;\n    \tlet i;\n    \tfor(i=0; i<dataDetail.length; i++) {\n    \t\tif(dataDetail[i].fundTxId == fundTxId) {\n    \t\t\tbreak;\n    \t\t}\n    \t}\n    \treturn dataDetail[i];\n    }\n  }\n}\n</script>"],"sourceRoot":"src/views/admin/investment"}]}